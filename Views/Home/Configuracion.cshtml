@model Usuario
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "Configuración de Perfil";
    var usuario = ViewBag.usuario;
    if(ViewBag.usuario.tipoUsuario == "perteneciente"){
    ViewData["mostrarHeaderLanding"] = false;
    ViewData["mostrarHeaderTutor"] = false;
    ViewData["mostrarHeaderPerteneciente"] = true;
    } else{
    ViewData["mostrarHeaderLanding"] = false;
    ViewData["mostrarHeaderTutor"] = true;
    ViewData["mostrarHeaderPerteneciente"] = false;
    }
}

<div class="config-container">
    <div class="config-header">
        <img src="@usuario.fotoPerfil" alt="Foto de perfil" class="config-foto" />
        <h2>@usuario.nombre @usuario.apellido</h2>
        <p class="config-username">@usuario.nombreUsuario</p>
    </div>

    <form asp-action="GuardarConfiguracion" method="post" class="config-form">
        <div class="config-row">
            <label>Nombre</label>
            <input type="text" name="nombre" value="@usuario.nombre" />
        </div>

        <div class="config-row">
            <label>Apellido</label>
            <input type="text" name="apellido" value="@usuario.apellido" />
        </div>

        <div class="config-row">
            <label>Fecha de Nacimiento</label>
            <input type="date" name="fechaNacimiento" value="@(usuario.fechaNacimiento?.ToString("yyyy-MM-dd"))" />
        </div>

        <div class="config-row">
            <label>Teléfono</label>
            <input type="text" name="telefono" value="@usuario.telefono" />
        </div>

        <div class="config-row">
            <label>Foto de Perfil (URL)</label>
            <input type="text" name="fotoPerfil" value="@usuario.fotoPerfil" />
        </div>

        @if (usuario.tipoUsuario == "tutor")
        {
            <div class="config-row">
                <label>Nivel de apoyo</label>
                <input type="number" name="nivelApoyo" value="@usuario.nivelApoyo" min="0" max="10" />
            </div>
        }

        <div class="config-row">
            <label>Descripción</label>
            <textarea name="descripcion">@usuario.descripcion</textarea>
        </div>

        <button type="submit" class="btn-guardar">Guardar Cambios</button>
        <a asp-action="Perfil" class="btn-volver">Volver</a>
    </form>
</div>